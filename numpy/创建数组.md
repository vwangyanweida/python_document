NumPy NumPy 中文网
概述
文章
深度学习
用户指南
参考手册
精选资源
其他文档

  • 防脱发指南
  • NumPy 基准测试
  • NumPy 开发者指南
  • F2Py 指南
  • 构建和扩展文档

了解更多

  • 社区
  • 报告错误
  • 发布日志
  • NumPy 许可证
  • Numpy 开发计划

选择语言

  • 简体中文
  • English

GitHub
概述
文章
深度学习
用户指南
参考手册
精选资源
其他文档

  • 防脱发指南
  • NumPy 基准测试
  • NumPy 开发者指南
  • F2Py 指南
  • 构建和扩展文档

了解更多

  • 社区
  • 报告错误
  • 发布日志
  • NumPy 许可证
  • Numpy 开发计划

选择语言

  • 简体中文
  • English

GitHub

  • NumPy 介绍

  • 快速入门教程

  • NumPy 基础知识

      □ 目录
      □ 数据类型
      □ 创建数组
          ☆ 简介
          ☆ 将Python array_like对象转换为Numpy数组
          ☆ Numpy原生数组的创建
          ☆ 从磁盘读取数组
              ○ 标准二进制格式
              ○ 常见ASCII格式
              ○ 自定义二进制格式
              ○ 使用特殊库
      □ NumPy与输入输出
      □ 索引
      □ 广播
      □ 字节交换
      □ 结构化数组
      □ 编写自定义数组容器
      □ 子类化ndarray
  • 其他杂项

  • 与 Matlab 比较

  • 从源代码构建

  • 使用NumPy的C-API

# 创建数组

另见

数组创建相关API

# 简介

创建数组有5种常规机制：

 1. 从其他Python结构（例如，列表，元组）转换
 2. numpy原生数组的创建（例如，arange、ones、zeros等）
 3. 从磁盘读取数组，无论是标准格式还是自定义格式
 4. 通过使用字符串或缓冲区从原始字节创建数组
 5. 使用特殊库函数（例如，random）

本节不包括复制，连接或以其他方式扩展或改变现有数组的方法。它也不会涵盖创建对象数组或结构化数组。这些都包含在他们自己的章节中。

# 将Python array_like对象转换为Numpy数组

通常，在Python中排列成array-like结构的数值数据可以通过使用array()函数转换为数组。最明显的例子是列表和元组。有关其使用的详细信息，请参阅array()的文档。一些对
象可能支持数组协议并允许以这种方式转换为数组。找出对象是否可以使用array()转换为一个数组numpy 数组的简单方法很简单，只要交互式试一下，看看它是否工作！（Python
方式）。

例子：

>>> x = np.array([2,3,1,0])
>>> x = np.array([2, 3, 1, 0])
>>> x = np.array([[1,2.0],[0,0],(1+1j,3.)]) # note mix of tuple and lists,
    and types
>>> x = np.array([[ 1.+0.j, 2.+0.j], [ 0.+0.j, 0.+0.j], [ 1.+1.j, 3.+0.j]])

# Numpy原生数组的创建

Numpy内置了从头开始创建数组的函数：

zeros(shape)将创建一个用指定形状用0填充的数组。默认的dtype是float64。

>>> np.zeros((2, 3)) array([[ 0., 0., 0.], [ 0., 0., 0.]])

ones(shape)将创建一个用1个值填充的数组。它在所有其他方面与zeros相同。

arange()将创建具有有规律递增值的数组。检查文档字符串以获取有关可以使用的各种方式的完整信息。这里给出几个例子：

>>> np.arange(10)
array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
>>> np.arange(2, 10, dtype=np.float)
array([ 2., 3., 4., 5., 6., 7., 8., 9.])
>>> np.arange(2, 3, 0.1)
array([ 2. , 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9])

请注意，关于用户应该注意的最后用法在arange文档字符串中有一些细微的描述。

linspace() 将创建具有指定数量元素的数组，并在指定的开始值和结束值之间平均间隔。例如：

>>> np.linspace(1., 4., 6)
array([ 1. ,  1.6,  2.2,  2.8,  3.4,  4. ])

这个创建函数的优点是可以保证元素的数量以及开始和结束点，对于任意的开始，停止和步骤值，arange()通常不会这样做。

indices() 将创建一组数组（堆积为一个更高维的数组），每个维度一个，每个维度表示该维度中的变化。一个例子说明比口头描述要好得多：

>>> np.indices((3,3))
array([[[0, 0, 0], [1, 1, 1], [2, 2, 2]], [[0, 1, 2], [0, 1, 2], [0, 1, 2]]])

这对于评估常规网格上多个维度的功能特别有用。

# 从磁盘读取数组

这大概是大数组创建的最常见情况。当然，细节很大程度上取决于磁盘上的数据格式，所以本节只能给出如何处理各种格式的一般指示。

# 标准二进制格式

各种字段都有数组数据的标准格式。下面列出了那些已知的Python库来读取它们并返回numpy数组（可能有其他可能读取并转换为numpy数组的其他数据，因此请检查最后一节）

HDF5: h5py
FITS: Astropy

无法直接读取但不易转换的格式示例是像PIL这样的库支持的格式（能够读取和写入许多图像格式，如jpg，png等）。

# 常见ASCII格式

逗号分隔值文件（CSV）被广泛使用（以及Excel等程序的导出和导入选项）。有很多方法可以在Python中阅读这些文件。python中有CSV函数和pylab函数（matplotlib的一部分）
。

更多通用的ascii文件可以在scipy中使用io软件包读取。

# 自定义二进制格式

有各种各样的方法可以使用。如果文件具有相对简单的格式，那么可以编写一个简单的 I/O 库，并使用 numpy fromfile() 函数和 .tofile() 方法直接读取和写入numpy数组（尽
管介意你的字节序）！如果存在一个读取数据的良好 C 或 C++ 库，可以使用各种技术来封装该库，但这肯定要做得更多，并且需要更多的高级知识才能与C或C++ 接口。

# 使用特殊库

有些库可用于生成特殊用途的数组，且无法列出所有的这些库。最常见的用途是随机使用许多数组生成函数，这些函数可以生成随机值数组，以及一些实用函数来生成特殊矩阵（
例如对角线）。

在 GitHub 上编辑此页
上次更新: 2019-9-22 19:44:42

← 数据类型 NumPy与输入输出→

